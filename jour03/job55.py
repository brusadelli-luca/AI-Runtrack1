#% de nombres de mots par phrase dans data.txt

import re
from random import *

#utilisation des résultats des analyses des tailles de mots (job08)
tailles = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18]
poids_tailles = [0.01010956992254203, 0.11924430667338712, 0.13737761462088263, 0.15331204436175158, 0.14159857680646726, 0.1264869202020554, 0.09459596144185892, 0.07730157610354021, 0.05646960626735537, 0.04399116368850557, 0.01799306252650851, 0.011320780376520706, 0.006452989309899032, 0.0019413366153595085, 0.00131065720704219, 0.00018529395015252751, 0.0001385454764901926, 0.0001699944496812179]

#utilisation des résultats des analyses des lettres en début de mots (job13)
lettres = ['a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j', 'k', 'l', 'm', 'n', 'o', 'p', 'q', 'r', 's', 't', 'u', 'v', 'w', 'x', 'y', 'z']
poids_debut = [0.08790073004116415, 0.013789949758140397, 0.05189165573744017, 0.05387889085421361, 0.11537183310964896, 0.02151194763490972, 0.00709896821868766, 0.02583915635154512, 0.09609361254355045, 0.0, 0.00014024542098700477, 0.017340283839732632, 0.037823765054070986, 0.06923788938291164, 0.023969217405051726, 0.06786773411848103, 0.08085276015738087, 0.02567681165209956, 0.09032995072710875, 0.03390199309992529, 0.022069529429864114, 0.05618911542538136, 0.00015639489370672047, 0.00021334303434992848, 0.0, 0.00085422210964812]

#utilisation des résultats des analyses des lettres suivantes (job21)
lettre_suiv = [[0.05205723843672723, 0.016788091512546923, 0.026738458800223953, 0.03144526281933146, 0.13780137525287597, 0.003682336626531183, 0.0063640306835692105, 0.002033518723157658, 0.10466454999463941, 0.00010651097378358512, 0.00016186865094742212, 0.026933962495524086, 0.11170338375553489, 0.056224480286009994, 0.0304712479932842, 0.014325725973892199, 0.013653025086837977, 0.06706687697912456, 0.06735417631630396, 0.13567956453829244, 0.08641823916338433, 0.005893840792721937, 6.867154888678514e-05, 0.0022773727947148132, 8.618980115382217e-05, 0.0]
, [0.10347007990189504, 0.006886508651248347, 0.011538830021652072, 0.005391940830443196, 0.11466784188238902, 0.000900572917664642, 0.0004330414455153385, 0.0, 0.12240510452394182, 0.0, 0.0, 0.02518155166797601, 0.05752936442545364, 0.057674988982352605, 0.062223840272854436, 0.0, 0.003311042556860641, 0.06864281745195348, 0.12138956485083063, 0.09711241832570082, 0.13538485121385732, 0.005855640077410949, 0.0, 0.0, 0.0, 0.0]
, [0.08200902045346517, 0.00550039331284355, 0.013564204580149015, 0.024206998693746387, 0.11679894829223204, 0.002234160627289087, 0.004336618323709042, 0.003873263466924006, 0.12110323953290957, 0.0, 1.1972993715375598e-06, 0.017960687872434936, 0.06772044975353593, 0.06662372352920752, 0.07184754068722589, 0.020094275352514866, 0.005973326564600886, 0.07902535041959356, 0.07467795640154068, 0.10677036875623344, 0.1101671070732855, 0.0044719131526927865, 0.0, 0.0003544006139751177, 0.0006848552405194843, 0.0]
, [0.07063087116036751, 0.011978623040706711, 0.05038278733688421, 0.017297478098173343, 0.170158565193305, 0.0036957232642419735, 0.00544129922218091, 0.001990464287367495, 0.16503681537659792, 0.0, 1.4932215209058478e-06, 0.018281511080450296, 0.07873309113280265, 0.04456519629143503, 0.05222691591520293, 0.0065223916033167436, 0.0033328704346618524, 0.06563007228685383, 0.07046064390698424, 0.0805876722617677, 0.07357849044263566, 0.00412129139770014, 0.0, 0.005108310823018906, 0.0002374222218240298, 0.0]
, [0.07015733945628848, 0.011278674090090418, 0.028817248149596495, 0.027772917081939158, 0.10065140086944746, 0.0049005958114158215, 0.011026086974163584, 0.0017660809993117256, 0.0908669469470688, 3.8547431346263966e-05, 3.8547431346263966e-05, 0.019071848861608127, 0.08728862947143863, 0.0736037841404709, 0.029387344371085977, 0.01327401086530361, 0.00856108018017881, 0.10581472785767071, 0.10529738075276032, 0.13262953838943758, 0.06715976946607242, 0.003330295187099595, 0.0, 0.0068467338913581225, 0.0004204713235006951, 0.0]
, [0.08210872659383722, 0.003811530712212795, 0.07684430396125622, 0.015756298637682766, 0.13087118061332004, 0.02509103680289839, 0.009915155548161704, 0.0, 0.18708663746095122, 0.0, 0.0, 0.023390450840126434, 0.04869221242536831, 0.04533540361189671, 0.032662341263239615, 0.0, 0.0016044658866152795, 0.08901088744708775, 0.055653524094715245, 0.0946080334202111, 0.07432669735115252, 0.00028466330246400116, 0.0, 0.0029464500268027135, 0.0, 0.0]
, [0.09084478902091189, 0.0067516982587967275, 0.012221951746025913, 0.018564873715684608, 0.13885533453057325, 0.0033253262172577083, 0.005741240015983612, 0.0013549326437721325, 0.14105537770469817, 0.00034906739297180364, 0.0007073207699691811, 0.013227816996826243, 0.04518585542179742, 0.09900653582763419, 0.0640446806263004, 0.0011344690271583619, 0.002365390886585248, 0.09796851963274436, 0.07201352176848565, 0.09185984025573779, 0.08697289675413254, 0.005631008207676727, 0.0, 0.0001791266884986887, 0.0006384258897773777, 0.0]
, [0.08750131958819668, 0.02378012677226432, 0.0715974131481473, 0.011883178578149455, 0.11334688875527262, 0.0, 0.0009822326055326316, 0.013930261485007183, 0.14571925588995324, 0.0, 0.0003488302711237384, 0.04311266758770098, 0.05781402756677116, 0.05715767587241992, 0.11017069733925121, 0.016968756741374484, 3.2129103919291693e-05, 0.047399608024932184, 0.08044209646992945, 0.05180588513386362, 0.06030173818452204, 0.00022949359942351207, 0.0, 0.0, 0.005475717282244998, 0.0]
, [0.07821040695404267, 0.013216773040261233, 0.03365452731749793, 0.03618223095901451, 0.09803340526298347, 0.002035898866879878, 0.008965831575115255, 0.0061941466586812426, 0.09187287807131841, 0.0, 0.00011046396305316631, 0.03501035239445048, 0.07976698827689185, 0.0732150344335384, 0.03865902512190659, 0.013863227363172371, 0.012301362981220646, 0.05019578536755923, 0.11915651638925003, 0.11261128643929981, 0.08949646203137465, 0.004624117549025588, 0.0, 0.0022438592842799693, 0.0003794196991826147, 0.0]
, [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
, [0.44577205882352944, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.07169117647058823, 0.0, 0.0, 0.14246323529411764, 0.0, 0.009191176470588236, 0.20404411764705882, 0.009191176470588236, 0.0, 0.0, 0.009191176470588236, 0.0, 0.01838235294117647, 0.0, 0.0, 0.0900735294117647, 0.0, 0.0, 0.0]
, [0.10984580033718795, 0.010071619426604395, 0.019188019703045695, 0.024669891815195175, 0.12257765374112828, 8.510401030638911e-05, 0.018021507837639155, 0.0049389672188156165, 0.12340961880739935, 0.00011151559971182021, 0.00011445022075686811, 0.045482224266674885, 0.058651336206327336, 0.033597009034230886, 0.05754791869338933, 0.019273123713352085, 0.014526374172987107, 0.05079535566873411, 0.06783376545628221, 0.10228474921462204, 0.11066162498771127, 0.004080590563139105, 0.0, 0.0020087481053352877, 0.00022303119942364042, 0.0]
, [0.09985583023844483, 0.009480656670010697, 0.00943747217922228, 0.02608841526206342, 0.10621059415215557, 0.0006876299687078536, 0.006657055349229655, 0.006592278613047032, 0.14042599839220818, 0.0, 0.00012623158845844655, 0.02697701920713275, 0.0821601546669147, 0.080801504149033, 0.07709262076708943, 0.012570008703335836, 0.014192748991808234, 0.051213484191154485, 0.07953254449663494, 0.05251898456652737, 0.10807084913996426, 0.005145598171635098, 0.0, 0.004122457928340321, 3.9862606881614704e-05, 0.0]
, [0.0822730133707158, 0.007664402599810593, 0.023651724490584957, 0.029508532031598825, 0.1259687553785099, 0.003469684535583598, 0.010711705217331294, 0.006012290648647256, 0.13151043940191384, 0.0, 0.0001263819912314179, 0.021579725002764606, 0.08021015994805035, 0.0501703246769984, 0.056990794901151824, 0.0036542687596189585, 0.014064985287307008, 0.05059520097646717, 0.0790220029383813, 0.12787196839119883, 0.08834600063357288, 0.005060268412068482, 0.0, 0.0009179323573650352, 0.0006194380491276732, 0.0]
, [0.06087177841654585, 0.013124051857812692, 0.022541214260394495, 0.02889072194045121, 0.10006921542966486, 0.00623526862138656, 0.005527154456247281, 0.0057069129750370855, 0.09321655189561238, 6.383947396273455e-05, 6.551946011964862e-05, 0.02945771726840971, 0.08250328017297137, 0.10406590249696343, 0.036752217161730584, 0.028167487899899705, 0.008269731857409495, 0.08604469099174623, 0.10129896529652596, 0.09739467746785767, 0.08317275465650163, 0.005396955529086441, 8.399930784570335e-06, 0.000525835667114103, 0.0006291548157643181, 0.0]
, [0.09040676019293434, 0.009324188789332844, 0.024778495894527006, 0.01365126992912701, 0.13597272451090145, 0.0032554548897369417, 0.0023034762307055255, 0.011497613290662494, 0.10754029522782982, 0.0, 8.011186529553995e-05, 0.029294932352292448, 0.04882454044920908, 0.04144384470366933, 0.07003129564815701, 0.019008360765578117, 0.002041291944283758, 0.09888093087906646, 0.09261347793698421, 0.12173882283417052, 0.07235037808638764, 0.0029079566688445997, 0.0, 0.0009665444527215145, 0.001087232457582328, 0.0]
, [0.11881729838896231, 0.006859331406283631, 0.00448773265906709, 0.0729905276857501, 0.12366911872677935, 0.0, 0.0, 0.0, 0.11225366250077946, 0.0, 0.0, 0.0028201708597095747, 0.07918806436104624, 0.01341693269205625, 0.04823860013316356, 0.0009253057029004311, 0.012322658121669654, 0.020046949206751513, 0.03128941349699175, 0.02537550313497595, 0.32585243787879703, 0.0014462930443161085, 0.0, 0.0, 0.0, 0.0]
, [0.09374764701026289, 0.019533330127975427, 0.018584423230619755, 0.01632918179005934, 0.16184124225157645, 0.004760863668568411, 0.0071512744472798755, 0.0033828621608406263, 0.12416619115484509, 0.0, 0.0, 0.009203308292230665, 0.07789654737594584, 0.04101346159603237, 0.053068933640926734, 0.01952970142091097, 0.006830133872075376, 0.05106588734134612, 0.08455159613216114, 0.1011774247247399, 0.09847857384554953, 0.005631753364038243, 9.071767661144077e-06, 0.0010641183466522002, 0.0009824724377019034, 0.0]
, [0.06346171730075523, 0.006013440426021369, 0.025082595480375315, 0.02202839816160815, 0.1618440695221454, 0.0012030796489630902, 0.0020429839116240596, 0.0028770147179027843, 0.14275827300804175, 7.439711417509752e-05, 9.789093970407568e-07, 0.013370923454179699, 0.06766711207044232, 0.05651439730995698, 0.03693327264095072, 0.02415948391896588, 0.009473885144560445, 0.0374589469871616, 0.08194156889809064, 0.1507647729664381, 0.09073902764929592, 0.0027938074191543203, 0.0, 0.0007713806048681164, 2.4472734926018922e-05, 0.0]
, [0.12302249907710512, 0.010062610166756716, 0.007282924122149721, 0.010793591809093998, 0.14928649835345773, 0.0008646282302339548, 0.003981690417458156, 0.0022304311650804282, 0.12962089189539383, 6.193378463504295e-05, 6.193378463504295e-05, 0.01323753154752155, 0.09385820585975095, 0.04364538996688987, 0.045394204464610954, 0.00464829352050375, 0.010291602186262598, 0.08708949513371586, 0.07426675695960532, 0.0689094845886741, 0.11995514690123273, 0.000707349013989701, 1.629836437764288e-05, 0.0005109537232391043, 0.0001996549636261253, 0.0]
, [0.09799114582720639, 0.009767038792883723, 0.014358817509146306, 0.05144439085408652, 0.10318287513577314, 0.00043290552542731773, 0.0023033397249638266, 0.00037094984334623424, 0.10029683829959102, 0.0, 7.8424914026688e-07, 0.021889962003129156, 0.158081099203595, 0.044077938679559725, 0.03456499660812247, 0.013534571662725814, 0.010801463408895737, 0.07002168448872838, 0.09993686794420852, 0.10984742432976108, 0.05405280349461417, 0.002222562063516338, 0.0, 0.0008195403515788896, 0.0, 0.0]
, [0.07631629048293952, 0.01525606583038944, 0.0067755378334355765, 0.02928944640703996, 0.15243162058680432, 0.0, 0.0019207581494722146, 0.0006071118820468344, 0.13839400926533116, 0.0, 0.0, 0.044638588623527174, 0.04539800731918854, 0.03237577475514564, 0.05046855498910583, 0.022833329807712646, 0.001620375267065767, 0.08747064920779303, 0.06516616250290863, 0.13343557633321346, 0.08703065174623993, 0.007264188860448882, 0.0, 0.0013073001501914413, 0.0, 0.0]
, [0.5, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.5, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0]
, [0.07571278077955619, 0.0029224861521731744, 0.020978466487692707, 0.01848642403235124, 0.14055119448125872, 0.0, 0.002526024852459759, 0.0016085001302658555, 0.14588643082883065, 0.0, 0.0, 0.029779907341330524, 0.09012131715771231, 0.046669158709122006, 0.030153713709631744, 0.04745075384284274, 0.006184796275529276, 0.0719294072337196, 0.08385722862224035, 0.11991255196474893, 0.06496301582446959, 0.0001812394512975612, 0.0, 0.00012460212276707333, 0.0, 0.0]
, [0.0704204427276779, 0.0, 0.025627692764819493, 0.012553855296389837, 0.05043827068786213, 0.0, 0.019016490863170407, 0.04761551032536027, 0.07413460109939088, 0.0, 7.42831674342594e-05, 0.020427871044421335, 0.10607636309612242, 0.061877878472738075, 0.10711632744020205, 0.06150646263556678, 0.0, 0.11387609567671965, 0.1134303966721141, 0.02934185113653246, 0.08646560689347794, 0.0, 0.0, 0.0, 0.0, 0.0]
, [0.0, 0.0, 0.0, 0.0, 0.26928048255062476, 0.0, 0.0, 0.0, 0.09198621283929341, 0.0, 0.0, 0.0, 0.008616975441619991, 0.35221887117621714, 0.21650150797070228, 0.0, 0.00904782421370099, 0.0, 0.04330030159414046, 0.0, 0.00904782421370099, 0.0, 0.0, 0.0, 0.0, 0.0]]

#utilisation des résultats des analyses des tailles de phrases (job34)
poids_taille_phrase = [0.0, 0.0015510992228676343, 0.006869153701270952, 0.006726705813456577, 0.019151327139488136, 0.011997277662588436, 0.033554391351830457, 0.02025925515582216, 0.058087083142083856, 0.03360187398110191, 0.06691885218657508, 0.03643500419429892, 0.07457938304237033, 0.037780345356990236, 0.08330035928522815, 0.038223516563523845, 0.06945125908105285, 0.030737088681723937, 0.049112866209778255, 0.023947072695905413, 0.030103986958104494, 0.01913549959639765, 0.02283914467957139, 0.01736281477026321, 0.013864927747265792, 0.015178613823776135, 0.013263481109827321, 0.014102340893623083, 0.01166489925768823, 0.013580031971637043, 0.010620281413716149, 0.011221728051154619, 0.008752631329038793, 0.010066317405549136, 0.0073756350801665056, 0.0072806698216235895, 0.006457637580918314, 0.005792880771117899, 0.005048986245865054, 0.004589987496240958, 0.004574159953150472, 0.0036086798246308224, 0.003766955255535683, 0.0035611971953593644, 0.002722337411563603, 0.002294993748120479, 0.002231683575758535, 0.002516579351387284, 0.0018043399123154112, 0.0021050632310346466, 0.0016144093952295785, 0.0013611687057818015, 0.0015827543090486064, 0.0009654801285196499, 0.0012503759041483991, 0.0013453411626913154, 0.001028790300881594, 0.000981307671610136, 0.0009021699561577056, 0.0008388597837957614, 0.0007122394390718729, 0.0005856190943479844, 0.0006964118959813868, 0.0006805843528909008, 0.00036403349108117945, 0.00042734366344312374, 0.00037986103417166555, 0.0004431712065336098, 0.0002690682325382631, 0.0003482059479906934, 0.00037986103417166555, 0.0002215856032668049, 0.00020575806017631882, 0.00014244788781437456, 0.00031655086180972127, 0.00015827543090486063, 0.0002690682325382631, 0.00020575806017631882, 0.00014244788781437456, 0.00011079280163340245, 0.00014244788781437456, 6.331017236194426e-05, 0.00012662034472388852, 0.00011079280163340245, 7.913771545243032e-05, 6.331017236194426e-05, 4.7482629271458194e-05, 1.5827543090486065e-05, 0.00015827543090486063, 3.165508618097213e-05, 1.5827543090486065e-05, 1.5827543090486065e-05, 7.913771545243032e-05, 3.165508618097213e-05, 1.5827543090486065e-05, 0.0, 0.0, 1.5827543090486065e-05, 1.5827543090486065e-05, 0.0, 3.165508618097213e-05, 1.5827543090486065e-05, 3.165508618097213e-05, 1.5827543090486065e-05, 1.5827543090486065e-05, 0.0, 1.5827543090486065e-05, 0.0, 3.165508618097213e-05, 0.0, 0.0, 0.0, 0.0, 0.0, 1.5827543090486065e-05, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 1.5827543090486065e-05, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 1.5827543090486065e-05, 3.165508618097213e-05, 3.165508618097213e-05]
taille_phrase = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132]

#fonction basée sur le générateur de mot (job34)
def gen_mot():
    taille = int(choices(population=tailles,weights=poids_tailles)[0])
    lettre_init = str(choices(population=lettres,weights=poids_debut)[0])
    mot = ''

    for i in range(taille):
        if i == 0:
            lettre = lettre_init
        else:
            lettre = choices(population=lettres,weights=lettre_suiv[ord(lettre)-97])[0]
        mot = mot + lettre
    return mot

#fonction génératrice de la taille de la phrase (nombre de mots)
def gen_phrase():
    return int(choices(population=taille_phrase,weights=poids_taille_phrase)[0])

#creation et affichage de la phrase
taille_p = gen_phrase()
phrase =''

for i in range(taille_p):
    if i == 0:
        phrase = gen_mot()
        phrase = phrase[0].upper() + phrase[1: len(phrase):]
    elif i == taille_p - 1:
        phrase = phrase + " " + gen_mot() + "."
    else:
        phrase = phrase + " " + gen_mot()

print(phrase)